// --------------------------------------------------------------------------
// --
// -- FBUFFERS - FIFO buffers.
// --
// --
// --------------------------------------------------------------------------

// --------------------------------------------------------------------------
// -- Includes
// --------------------------------------------------------------------------
#include <stdio.h>
#include <stdlib.h>
#include "defines.h"
#include "fbuffer.h"

// --------------------------------------------------------------------------
// -- Definitions
// --------------------------------------------------------------------------

// --------------------------------------------------------------------------
// -- Methods
// --------------------------------------------------------------------------

// --- Constructor ------------------
FBuffer::FBuffer( unsigned int  size) {

   currentStop = 0;
   if (size > FB_MAX_BUFFER_SIZE) size = FB_MAX_BUFFER_SIZE;

   buffer = (unsigned char *) malloc(size);
   roverStart   = buffer;
   roverEnd     = buffer;
   currentStart = 0;
   currentStop  = 0;

};

// --- Destructor -------------------
FBuffer::~FBuffer() {

   delete(buffer);

}

